# è§†é¢‘èƒŒæ™¯ç§»é™¤å·¥å…· ğŸ¬âœ¨

ä¸€ä¸ªåŸºäºAIæ·±åº¦å­¦ä¹ çš„é«˜è´¨é‡è§†é¢‘èƒŒæ™¯ç§»é™¤å·¥å…·ï¼Œæ”¯æŒä»MP4è§†é¢‘ä¸­æå–ä¸»ä½“å¹¶ç”Ÿæˆé€æ˜èƒŒæ™¯çš„è¾“å‡ºã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸ¤– **å¤šç§AIæ¨¡å‹æ”¯æŒ**: U2-Netã€ISNetç­‰å…ˆè¿›çš„èƒŒæ™¯åˆ†å‰²æ¨¡å‹
- ğŸ¥ **å®Œæ•´è§†é¢‘å¤„ç†**: è‡ªåŠ¨æå–è§†é¢‘å¸§ã€å¤„ç†ã€é‡æ–°åˆæˆ
- ğŸ–¼ï¸ **å¸§å›¾ç‰‡è¾“å‡º**: åŒæ—¶è¾“å‡ºæ¯å¸§çš„å¤„ç†ç»“æœ
- ğŸ“± **å›¾å½¢ç•Œé¢**: ç®€å•æ˜“ç”¨çš„GUIç•Œé¢
- âš¡ **æ‰¹é‡å¤„ç†**: æ”¯æŒæ‰¹é‡å¤„ç†å¤šä¸ªè§†é¢‘æ–‡ä»¶
- ğŸ¨ **å¤šæ ¼å¼è¾“å‡º**: æ”¯æŒMP4å’ŒWebMé€æ˜è§†é¢‘æ ¼å¼
- ğŸ“Š **è¯¦ç»†æŠ¥å‘Š**: ç”Ÿæˆå¤„ç†æŠ¥å‘Šå’Œç»Ÿè®¡ä¿¡æ¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- macOS / Windows / Linux
- è‡³å°‘4GBå†…å­˜
- ç½‘ç»œè¿æ¥ï¼ˆé¦–æ¬¡ä¸‹è½½AIæ¨¡å‹ï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®**
   ```bash
   # å¦‚æœä½ æœ‰git
   git clone <repository-url>
   cd è§†é¢‘æ‰£å›¾
   
   # æˆ–è€…ç›´æ¥ä¸‹è½½è§£å‹åˆ°æœ¬ç›®å½•
   ```

2. **å®‰è£…ä¾èµ–åŒ…**
   ```bash
   pip install -r requirements.txt
   ```

3. **éªŒè¯å®‰è£…**
   ```bash
   python video_background_remover.py --help
   ```

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šå›¾å½¢ç•Œé¢ï¼ˆæ¨èæ–°æ‰‹ï¼‰

å¯åŠ¨GUIåº”ç”¨ï¼š
```bash
python gui_app.py
```

ç•Œé¢æ“ä½œæ­¥éª¤ï¼š
1. ç‚¹å‡»"æµè§ˆ"é€‰æ‹©è¾“å…¥è§†é¢‘æ–‡ä»¶
2. è®¾ç½®è¾“å‡ºç›®å½•
3. é€‰æ‹©AIæ¨¡å‹ï¼ˆæ¨èu2netï¼‰
4. å¯é€‰ï¼šè®¾ç½®æœ€å¤§å¤„ç†å¸§æ•°
5. ç‚¹å‡»"å¼€å§‹å¤„ç†"
6. ç­‰å¾…å¤„ç†å®Œæˆ

### æ–¹æ³•äºŒï¼šå‘½ä»¤è¡Œç•Œé¢

#### åŸºæœ¬ç”¨æ³•
```bash
python video_background_remover.py -i input.mp4 -o output_folder
```

#### é«˜çº§ç”¨æ³•
```bash
# ä½¿ç”¨äººç‰©ä¸“ç”¨æ¨¡å‹ï¼Œé™åˆ¶å¤„ç†300å¸§
python video_background_remover.py \
  -i input.mp4 \
  -o output_folder \
  -m u2net_human_seg \
  -f 300

# ä¸ç”ŸæˆWebMæ ¼å¼
python video_background_remover.py \
  -i input.mp4 \
  -o output_folder \
  --no-webm
```

#### å‚æ•°è¯´æ˜
- `-i, --input`: è¾“å…¥è§†é¢‘æ–‡ä»¶è·¯å¾„
- `-o, --output`: è¾“å‡ºç›®å½•è·¯å¾„
- `-m, --model`: AIæ¨¡å‹é€‰æ‹©ï¼ˆè§ä¸‹æ–¹æ¨¡å‹è¯´æ˜ï¼‰
- `-f, --max-frames`: æœ€å¤§å¤„ç†å¸§æ•°ï¼ˆå¯é€‰ï¼‰
- `--no-webm`: ä¸ç”ŸæˆWebMæ ¼å¼
- `-v, --verbose`: è¯¦ç»†è¾“å‡º

### æ–¹æ³•ä¸‰ï¼šæ‰¹é‡å¤„ç†

å¤„ç†æ•´ä¸ªæ–‡ä»¶å¤¹çš„è§†é¢‘ï¼š
```bash
python batch_processor.py -i input_folder -o output_folder
```

ç”ŸæˆHTMLæŠ¥å‘Šï¼š
```bash
python batch_processor.py \
  -i input_folder \
  -o output_folder \
  --html-report
```

## ğŸ¤– AIæ¨¡å‹è¯´æ˜

| æ¨¡å‹åç§° | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ | å¤„ç†é€Ÿåº¦ | è´¨é‡ |
|---------|------|----------|----------|------|
| `u2net` | é€šç”¨æ¨¡å‹ | å¤§å¤šæ•°åœºæ™¯ | ä¸­ç­‰ | é«˜ |
| `u2netp` | è½»é‡ç‰ˆ | å¿«é€Ÿå¤„ç† | å¿« | ä¸­ç­‰ |
| `u2net_human_seg` | äººç‰©ä¸“ç”¨ | äººç‰©è§†é¢‘ | ä¸­ç­‰ | å¾ˆé«˜ |
| `isnet-general-use` | é«˜ç²¾åº¦é€šç”¨ | è¦æ±‚é«˜è´¨é‡ | æ…¢ | å¾ˆé«˜ |
| `silueta` | è½®å»“æ£€æµ‹ | ç®€å•èƒŒæ™¯ | å¿« | ä¸­ç­‰ |

**æ¨èé€‰æ‹©**ï¼š
- ğŸ¬ **ä¸€èˆ¬è§†é¢‘**: `u2net`
- ğŸ‘¤ **äººç‰©è§†é¢‘**: `u2net_human_seg`
- âš¡ **å¿«é€Ÿå¤„ç†**: `u2netp`
- ğŸ¨ **é«˜è´¨é‡è¦æ±‚**: `isnet-general-use`

## ğŸ“ è¾“å‡ºæ–‡ä»¶ç»“æ„

å¤„ç†å®Œæˆåï¼Œè¾“å‡ºç›®å½•åŒ…å«ï¼š

```
output_folder/
â”œâ”€â”€ output_transparent.mp4          # é€æ˜èƒŒæ™¯MP4è§†é¢‘
â”œâ”€â”€ output_transparent.webm         # é€æ˜èƒŒæ™¯WebMè§†é¢‘ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ frames/                         # åŸå§‹è§†é¢‘å¸§
â”‚   â”œâ”€â”€ frame_000001.png
â”‚   â”œâ”€â”€ frame_000002.png
â”‚   â””â”€â”€ ...
â”œâ”€â”€ processed_frames/               # å¤„ç†åçš„å¸§ï¼ˆé€æ˜èƒŒæ™¯ï¼‰
â”‚   â”œâ”€â”€ processed_frame_000001.png
â”‚   â”œâ”€â”€ processed_frame_000002.png
â”‚   â””â”€â”€ ...
â””â”€â”€ batch_processing_report.json    # å¤„ç†æŠ¥å‘Šï¼ˆæ‰¹é‡å¤„ç†æ—¶ï¼‰
```

## ğŸ¯ ä½¿ç”¨æŠ€å·§

### æé«˜å¤„ç†è´¨é‡
1. **é€‰æ‹©åˆé€‚çš„æ¨¡å‹**: äººç‰©è§†é¢‘ç”¨`u2net_human_seg`ï¼Œä¸€èˆ¬åœºæ™¯ç”¨`u2net`
2. **è§†é¢‘é¢„å¤„ç†**: ç¡®ä¿è§†é¢‘æ¸…æ™°åº¦è¶³å¤Ÿï¼Œé¿å…è¿‡åº¦å‹ç¼©
3. **èƒŒæ™¯ç®€å•åŒ–**: ç®€å•èƒŒæ™¯çš„æŠ å›¾æ•ˆæœæ›´å¥½
4. **å…‰çº¿å‡åŒ€**: é¿å…å¼ºçƒˆçš„é˜´å½±å’Œåå…‰

### ä¼˜åŒ–å¤„ç†é€Ÿåº¦
1. **é™åˆ¶å¸§æ•°**: ä½¿ç”¨`-f`å‚æ•°é™åˆ¶å¤„ç†å¸§æ•°
2. **é€‰æ‹©è½»é‡æ¨¡å‹**: ä½¿ç”¨`u2netp`æ¨¡å‹
3. **é™ä½åˆ†è¾¨ç‡**: é¢„å…ˆå°†è§†é¢‘åˆ†è¾¨ç‡è°ƒæ•´åˆ°åˆé€‚å¤§å°
4. **æ‰¹é‡å¤„ç†**: ä¸€æ¬¡æ€§å¤„ç†å¤šä¸ªæ–‡ä»¶æ›´é«˜æ•ˆ

### å†…å­˜ä¼˜åŒ–
1. **åˆ†æ‰¹å¤„ç†**: å¤§è§†é¢‘æ–‡ä»¶å»ºè®®åˆ†æ®µå¤„ç†
2. **å…³é—­å…¶ä»–ç¨‹åº**: å¤„ç†æ—¶å…³é—­ä¸å¿…è¦çš„åº”ç”¨
3. **ç›‘æ§å†…å­˜**: ä½¿ç”¨ç³»ç»Ÿç›‘æ§å·¥å…·è§‚å¯Ÿå†…å­˜ä½¿ç”¨

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: é¦–æ¬¡è¿è¡Œå¾ˆæ…¢ï¼Ÿ**
A: é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ä¸‹è½½AIæ¨¡å‹ï¼ˆçº¦100-500MBï¼‰ï¼Œè¯·ä¿æŒç½‘ç»œè¿æ¥ã€‚

**Q: å†…å­˜ä¸è¶³é”™è¯¯ï¼Ÿ**
A: å°è¯•ï¼š
- é™åˆ¶å¤„ç†å¸§æ•°ï¼š`-f 100`
- ä½¿ç”¨è½»é‡æ¨¡å‹ï¼š`-m u2netp`
- å…³é—­å…¶ä»–ç¨‹åºé‡Šæ”¾å†…å­˜

**Q: å¤„ç†ç»“æœä¸ç†æƒ³ï¼Ÿ**
A: å°è¯•ï¼š
- æ›´æ¢AIæ¨¡å‹
- æ£€æŸ¥åŸè§†é¢‘è´¨é‡
- ç¡®ä¿èƒŒæ™¯ä¸ä¸»ä½“å¯¹æ¯”æ˜æ˜¾

**Q: WebMæ–‡ä»¶åˆ›å»ºå¤±è´¥ï¼Ÿ**
A: éœ€è¦å®‰è£…FFmpegï¼š
```bash
# macOS
brew install ffmpeg

# Ubuntu/Debian
sudo apt install ffmpeg

# Windows
# ä¸‹è½½FFmpegå¹¶æ·»åŠ åˆ°PATH
```

**Q: GUIç•Œé¢æ— æ³•å¯åŠ¨ï¼Ÿ**
A: ç¡®ä¿å®‰è£…äº†tkinterï¼š
```bash
# Ubuntu/Debian
sudo apt-get install python3-tk

# macOSå’ŒWindowsé€šå¸¸è‡ªå¸¦
```

### é”™è¯¯æ—¥å¿—

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼š
```bash
python video_background_remover.py -i input.mp4 -o output -v
```

## ğŸ¨ é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰å¤„ç†æµç¨‹

```python
from video_background_remover import VideoBackgroundRemover

# åˆ›å»ºå¤„ç†å™¨
remover = VideoBackgroundRemover(model_name='u2net')

# è‡ªå®šä¹‰å¤„ç†
result = remover.process_video(
    input_video='input.mp4',
    output_dir='output',
    max_frames=200,
    create_webm=True
)

print(f"å¤„ç†å®Œæˆï¼Œå…±{result['frame_count']}å¸§")
```

### é›†æˆåˆ°å…¶ä»–é¡¹ç›®

```python
# åªå¤„ç†å•å¸§
remover = VideoBackgroundRemover()
remover.remove_background_from_frame('input.png', 'output.png')

# æ‰¹é‡å¤„ç†å¸§
frames = ['frame1.png', 'frame2.png', 'frame3.png']
processed = remover.process_frames(frames, 'output_dir')
```

## ğŸ“Š æ€§èƒ½å‚è€ƒ

| è§†é¢‘è§„æ ¼ | æ¨¡å‹ | å¤„ç†æ—¶é—´ | å†…å­˜ä½¿ç”¨ |
|---------|------|----------|----------|
| 1080p, 30fps, 10s | u2net | ~5åˆ†é’Ÿ | ~2GB |
| 720p, 30fps, 10s | u2net | ~3åˆ†é’Ÿ | ~1.5GB |
| 1080p, 30fps, 10s | u2netp | ~3åˆ†é’Ÿ | ~1GB |
| 4K, 30fps, 10s | u2net | ~15åˆ†é’Ÿ | ~4GB |

*æµ‹è¯•ç¯å¢ƒï¼šMacBook Pro M1, 16GB RAM*

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd è§†é¢‘æ‰£å›¾

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements.txt
pip install pytest black flake8

# è¿è¡Œæµ‹è¯•
pytest tests/
```

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§LICENSEæ–‡ä»¶

## ğŸ™ è‡´è°¢

- [rembg](https://github.com/danielgatis/rembg) - ä¼˜ç§€çš„èƒŒæ™¯ç§»é™¤åº“
- [U2-Net](https://github.com/xuebinqin/U-2-Net) - å¼ºå¤§çš„å›¾åƒåˆ†å‰²æ¨¡å‹
- OpenCV - è®¡ç®—æœºè§†è§‰å¤„ç†åº“

## ğŸ“ æ”¯æŒ

å¦‚æœè¿™ä¸ªå·¥å…·å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªâ­ï¸ï¼

æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Ÿæ¬¢è¿æäº¤Issueæˆ–è”ç³»å¼€å‘è€…ã€‚

---

**äº«å—ä½ çš„è§†é¢‘åˆ›ä½œä¹‹æ—…ï¼** ğŸ¬âœ¨